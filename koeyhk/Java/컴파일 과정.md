# 컴파일 과정

<img src="https://github.com/98000001/CS-Study/assets/80199502/be066802-8aa5-4281-ba68-55b28206079a"  width="700">

1. 자바 소스코드(.java) 작성
2. 자바 컴파일러가 자바 소스코드(.java)파일을 읽어 바이트코드(.class)코드로 컴파일
    - 바이트코드(.class)파일은 아직 컴퓨터가 읽을 수 없는 JVM(자바 가상 머신)이 읽을 수 있는 코드
3. 컴파일된 바이트코드(.class)를 JVM의 클래스로더(Class Loader)에게 전달
4. 클래스 로더는 동적로딩(Dynamic Loading)을 통해 필요한 클래스들을 로딩 및 링크하여 런타임 데이터 영역(Runtime Data Area), 즉 JVM의 메모리에 바이트 코드들을 올려줌
5. 실행엔진(Execution Engine)은 JVM 메모리에 올라온 바이트 코드들을 명령어 단위로 하나씩 가져와서 실행

<br>

### 클래스 로더의 세부 동작

- **로드**: 클래스 파일을 가져와서 JVM의 메모리에 로드
- **검증**: 자바 언어 명세 및 JVM 명세에 명시된 대로 구성되어 있는지 검사
- **준비**: 클래스가 필요로 하는 메모리를 할당 (필드, 메서드, 인터페이스 등)
- **분석**: 클래스의 상수 풀 내 모든 심볼릭 레퍼런스를 다이렉트 레퍼런스로 변경
- **초기화**: 클래스 변수들을 적절한 값으로 초기화 (static 필드)

<br>

### 실행 엔진의 두 가지 방식

**1. 인터프리터**

- 바이트 코드 명령어를 하나씩 읽어서 해석하고 실행
- 하나하나의 실행은 빠르나, 전체적인 실행 속도가 느리다는 단점

**2. JIT컴파일러**

- 바이트 코드 전체를 컴파일하여 바이너리 코드로 변경하고 이후에는 해당 메서드를 더이상 인터프리팅 하지 않고, 바이너리 코드로 직접 실행하는 방식
- 전체적인 실행속도가 인터프리터보다 빠름

<br>
<br>
<br>
<br>
<br>

참고 자료: <br>
https://ssocoit.tistory.com/270 <br>
https://velog.io/@woo00oo/%EC%9E%90%EB%B0%94-%EC%BB%B4%ED%8C%8C%EC%9D%BC-%EA%B3%BC%EC%A0%95
