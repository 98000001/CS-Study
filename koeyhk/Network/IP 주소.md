# 2.4 IP 주소

## 2.4.1 ARP

**ARP(Address Resolution Protocol)** 
- IP 주소로부터 MAC  주소를 구하는 IP와 MAC 주소의 다리 역할을 하는 프로토콜
- IP(논리적 주소) → MAC(물리적 주소)

**RARP:** MAC - IP

<img src="https://github.com/98000001/CS-Study/assets/80199502/59bd5a15-7e60-41b5-8099-2b399e17c03c"  width="600">

<br>
<br>

장치가 ARP Request 브로드캐스트를 보내 IP주소에 해당하는 MAC 주소를 찾아, ARP Reply 유니캐스트를 통해 반환됨

<br>

## 2.4.2 홉바이홉 통신

- IP 주소를 통해 통신하는 과정
- 통신 장치에 있는 라우팅 테이블의 IP를 통해 시작 주소부터 다음 IP로 계속해서 이동하는 라우팅 과정을 거쳐 패킷이 최종 목적지까지 도달하는 통신

<img src="https://github.com/98000001/CS-Study/assets/80199502/883cdb53-e559-4393-af40-dffb57e1a1cc"  width="600">


### 라우팅 테이블

- 송신지에서 수신지까지 도달하기 위해 사용되며 라우터에 목적지 정보와 가기 위한 방법이 들어 있는 리스트
- 게이트 웨이와 모든 목적지에 대해 해당 목적지에 도달하기 위해 거쳐야 할 다음 라우터의 정보 가짐

### 게이트웨이

서로 다른 통신망, 프로토콜을 사용하는 네트워크 간의 통신을 가능하게 하는 관문 역할을 하는 컴퓨터나 소프트웨어 (톨게이트)

<br>

## 2.4.3 IP 주소 체계

- IPv4 - 32비트를 8비트 단위로 점을 찍어 표기 (123.45.67.89)
- IPv6 - 64비트를 16비트 단위로 점을 찍어 표기 (2001:db8::ff00:42:8329)

### 클래스 기반 할당 방식

- A, B, C, D, E 다섯 개의 클래스로 구분하는 방식
- 앞에 있는 부분을 네트워크 주소, 뒤에 있는 부분을 컴퓨터에 부여하는 호스트 주소로 사용

### DHCP

- IP  주소 및 기타 통신 매개변수를 자동으로 할당하기 위한 네트워크 관리 프로토콜
- 네트워크 장치의 IP 주소를 수동으로 설정할 필요 없이 인터넷에 접속할 때마다 자동으로 IP 주소 할당

### NAT

- NAT(Network Address Translation)는 패킷이 라우팅 장치를 통해 전송되는 동안 패킷의 IP 주소 정보를 수정하여 IP 주소를 다른 주소로 매핑하는 방법
- IPv4 주소 체계만으로 많은 주소 감당하지 못하는 단점을 사설 IP와 공인 IP로 나눠 해결
- ICS, RRAS, Netfilter

<img src="https://github.com/98000001/CS-Study/assets/80199502/f6c63ac2-1b37-4b93-aa6f-f5ddad4d563e"  width="700">

<br>
<br>

- **사용 이유**: 여러 대의 호스트가 하나의 공인 IP 주소를 사용하여 인터넷에 접속하기 위함. 인터넷 회선 하나를 개통하고 인터넷 공유기를 여러 PC에 연결해 사용
- **NAT를 이용한 보안**: 내부 네트워크에서 사용하는 IP 주소와 외부에 드러나는 IP 주소를 다르게 유지할 수 있어 내부 네트워크에 대한 어느 정도의 보안 가능
- **NAT의 단점**: 여러 명이 동시에 인터넷을 접속하게 되므로 실제로 접속하는 호스트 숫자에 다라 접속 속도가 느려질 수 있다는 단점 존재

<br>

## 2.4.4 IP 주소를 이용한 위치 정보

IP 주소는 인터넷에서 사용하는 네트워크 주소이기 때문에 위치 추적이 가능함
