# 2.3

### 네트워크 기기의 처리 범위

| 애플리케이션 게층 | L7 스위치 |
| --- | --- |
| 인터넷 계층 | L3 스위치 |
| 데이터 링크 계층 | L2 스위치, 브리지 |
| 물리 계층 | NIC, 리피터, AP  |

### 애플리케이션 계층을 처리하는 기기 : 로드 밸런서

- L7 스위치(로드밸런서)
    - 스위치 : 여러 장비를 연결. 데이터 통신을 중재.
    - 목적지가 연결된 포트로만 전기 신호를 보내 데이터를 전송
    - 정해진 목적지로 데이터 전송.
    - 서버의 부하를 분산하는 기기. 클라이언트로부터 오는 요청을 뒤쪽의 여러 서버로 나눔. 시스템이 처리할 수 있는 트래픽 증가를 목표로함
    - IP,포트 / URL,서버,캐시, 쿠키 등을 기반으로 트래픽 분산
    - 바이러스, 불필요한 외부 데이터 등을 걸러내는 필터링 기능도 가지고 있음
    - 응용 프로그램 수준의 트래픽 모니터링도 가능
- L4 스위치와 L7 스위치 차이
    - 전송 계층을 처리하는 스위치.
    - 스트리밍 관련 서비스는 사용할 수 없음.
    - 메시지 기반으로 인식하지 못함
    - IP와 포트를 기반으로 트래픽을 분산
    - 참고로, AWS 에서 L7→ ALB(Application Load Balancer) , L4 → NLB(Network Load Balancer)
- 헬스 체크
    - 헬스 체크 : 전송 주기와 재전송 횟수 등을 설정한 이후 반복적으로 서버에 요청 보냄
    - 헬스 체크를 통해 정상/비정상을 판별
    - TCP,HTTP 등 다양한 방법으로 요청을 보내 요청이 정상적으로 이루어졌는지 확인
- 로드밸런서를 이용한 서버 이중화
    - 2대 이상의 서버를 기반으로 가상 IP 를 제공하고 이를 기반으로 안정적인 서비스 제공

### 인터넷 계층을 처리하는 기기 : 라우터, L3 스위치

- 라우터 : 여러개의 네트워크를 연결/분할/구분 시켜줌
    - 다른 네트워크에 존재하는 장치끼리 서로 데이터를 주고받을 때 패킷 소모를 최소화 하고 경로를 최적화 하여 최소 경로로 패킷을 포워딩
- L3 스위치 : L2 스위치 + 라우팅 = 라우터
    - 라우터 : 소프트웨어기반의 라우팅 / 하드웨어 기반의 라우팅 (L3 스위치)
    

### 데이터 링크 계층을 처리하는 기기

- L2 스위치
    - 장치들의 MAC 주소를 MAC 주소 테이블을 통해 관리하며 연결된 장치로부터 패킷이 왔을 때 `패킷 전송`을 담당함
    - IP 주소 기반 라우팅을 불가. 단순히 패킷의 MAC 주소를 읽고 스위칭함
    - 목적지가 MAC 주소 테이블에 없다면 전체 포트에 전달.
- 브리지
    - 두개의 근거리 통신망 (LAN) 을 상호 접속할 수 있도록 하는 통신망 연결장치.
    - 포트와 포트 사이의 다리역할.
    - 장치에서 받아온 MAC 주소를 MAC 주소 테이블로 관리
    - 통신망 범위를 확장하고, 서로 다른 LAN 으로 이루어진 하나의 통신망을 구축할 때 씀
- L2 스위치와 브리지의 차이?

### 물리 계층을 처리하는 기기

- NIC (Network Interface Card)
    - LAN 카드라고 하는 네트워크 인터페이스 카드
    - 2대 이상의 컴퓨터네트워크를 구성하는데 사용
    - 네트워크와 빠른 속도로 데이터를 송수신 할 수 있도록 컴퓨터 내에 설치함
    - 각 LAN 카드에서 MAC 주소가 있음
- 리피터(repeater)
    - 들어오는 약해진 신호 정도를 증폭하여 다른 쪽으로 전달
    - 패킷이 더 멀리 갈 수 있음.
    - 광케이블의 보급에 따라 현재는 잘 안쓰임
- AP (Access Point)
    - 패킷을 복사하는 기기
    - AP에 유선 LAN을 연결한 후 다른 장치에서 무선 LAN 기술로 무선 네트워크 연결을 할 수 있음